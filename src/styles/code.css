/* 限制代码块高度，超出部分显示滚动条 */
pre {
  max-height: 300px; 
  overflow-y: auto;
  overflow-x: auto;
  width: 100%;
  box-sizing: border-box;
  display: block;
} 

/* 添加对代码块里长代码行的处理 */
pre code {
  white-space: pre;         /* 不换行 */
  word-wrap: normal;        /* 不允许长单词换行 */
  overflow-wrap: normal;    /* 不允许单词换行 */
  display: block;
  width: 100%;
}

/* 处理details标签内的代码块 */
details pre {
  width: 100%;
}

details pre code {
  white-space: pre;         /* 不换行 */
  word-wrap: normal;        /* 不允许长单词换行 */
  overflow-wrap: normal;    /* 不允许单词换行 */
  width: 100%;
}

/* 确保所有代码块容器宽度一致 */
.astro-code,
pre,
details pre,
details .astro-code {
  width: 100% !important;
  box-sizing: border-box !important;
  display: block !important;
}

/* 强制折叠代码块与其他代码块宽度一致 */
details .astro-code {
  min-width: 100% !important;
  display: block !important;
}

/* 修复折叠代码块的父容器宽度 */
details {
  width: 100% !important;
  display: block !important;
}

/* 代码块行号显示 */
pre {
  counter-reset: line;
}

pre code .line {
  counter-increment: line;
  position: relative;
  padding-left: 2rem;
}

pre code .line::before {
  content: counter(line);
  position: absolute;
  left: 0;
  text-align: right;
  color: #666;
  font-size: 1em;
  user-select: none;
}


